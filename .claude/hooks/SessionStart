#!/bin/bash
# SessionStart Hook - Auto-install dependencies
# This hook runs at the start of each Claude Code session

echo "ğŸ” Checking Python dependencies..."

# Check if dependencies are installed
if python3 -c "import anthropic, pytest" 2>/dev/null; then
    echo "âœ“ All dependencies are installed"
else
    echo "âš ï¸  Dependencies missing - installing now..."
    pip install -r requirements.txt --quiet

    # Verify installation succeeded
    if python3 -c "import anthropic, pytest" 2>/dev/null; then
        echo "âœ“ Dependencies successfully installed"
    else
        echo "âŒ Failed to install dependencies - please run: pip install -r requirements.txt"
        exit 1
    fi
fi

echo ""
